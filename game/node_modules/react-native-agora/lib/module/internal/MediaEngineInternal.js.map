{"version":3,"names":["createCheckers","processIAudioFrameObserver","processIVideoEncodedFrameObserver","processIVideoFrameObserver","IMediaEngineImpl","AgoraMediaBaseTI","checkers","DeviceEventEmitter","EVENT_TYPE","MediaEngineInternal","Map","registerAudioFrameObserver","observer","_audio_frame_observers","find","value","push","unregisterAudioFrameObserver","filter","registerVideoFrameObserver","_video_frame_observers","unregisterVideoFrameObserver","registerVideoEncodedFrameObserver","_video_encoded_frame_observers","unregisterVideoEncodedFrameObserver","release","removeAllListeners","_addListenerPreCheck","eventType","IAudioFrameObserver","strictTest","undefined","length","IVideoFrameObserver","IVideoEncodedFrameObserver","addListener","listener","callback","IMediaEngine","subscription","_events","set","removeListener","has","removeSubscription","get","delete","forEach","clear","key"],"sourceRoot":"../../src","sources":["MediaEngineInternal.ts"],"mappings":"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"}