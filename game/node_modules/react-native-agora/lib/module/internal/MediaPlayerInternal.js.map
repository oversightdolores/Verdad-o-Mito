{"version":3,"names":["createCheckers","ErrorCodeType","processIAudioSpectrumObserver","IMediaPlayerImpl","processIMediaPlayerAudioFrameObserver","processIMediaPlayerVideoFrameObserver","processIMediaPlayerSourceObserver","AgoraMediaBaseTI","IAgoraMediaPlayerTI","IAgoraMediaPlayerSourceTI","checkers","DeviceEventEmitter","EVENT_TYPE","MediaPlayerInternal","constructor","mediaPlayerId","Map","_mediaPlayerId","release","_source_observers","delete","_audio_frame_observers","_video_frame_observers","_audio_spectrum_observers","removeAllListeners","_addListenerPreCheck","eventType","IMediaPlayerSourceObserver","strictTest","undefined","get","length","registerPlayerSourceObserver","IMediaPlayerAudioFrameObserver","registerAudioFrameObserver","IMediaPlayerVideoFrameObserver","registerVideoFrameObserver","IAudioSpectrumObserver","console","error","addListener","listener","callback","data","IMediaPlayer","playerId","subscription","_events","set","removeListener","has","removeSubscription","forEach","value","clear","key","getMediaPlayerId","observer","observers","find","push","unregisterPlayerSourceObserver","ErrFailed","filter","unregisterAudioFrameObserver","unregisterVideoFrameObserver","registerMediaPlayerAudioSpectrumObserver","intervalInMS","unregisterMediaPlayerAudioSpectrumObserver","getApiTypeFromSetPlayerOptionInInt","getApiTypeFromSetPlayerOptionInString"],"sourceRoot":"../../src","sources":["MediaPlayerInternal.ts"],"mappings":"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"}