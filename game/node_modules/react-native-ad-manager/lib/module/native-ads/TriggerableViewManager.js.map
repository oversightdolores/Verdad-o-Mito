{"version":3,"names":["React","Text","TriggerableContext","createContext","register","child","Error","unregister","TriggerableViewChild","Component","ref","wrapperRef","context","render","props","handleWrapperRef","TriggerableView","contextValue"],"sources":["TriggerableViewManager.tsx"],"sourcesContent":["import React from 'react';\nimport { Text, ViewProps } from 'react-native';\nimport type { TReactNodeHandleRef } from '../AdManagerTypes';\n\ninterface ITriggerableContext {\n  register: (child: TReactNodeHandleRef) => void;\n  unregister: (child: TReactNodeHandleRef) => void;\n}\n\nexport const TriggerableContext = React.createContext<ITriggerableContext>({\n  register: (child: TReactNodeHandleRef) => {\n    throw new Error('Stub! ' + child);\n  },\n  unregister: (child: TReactNodeHandleRef) => {\n    throw new Error('Stub! ' + child);\n  },\n});\n\nclass TriggerableViewChild extends React.Component {\n  static contextType = TriggerableContext;\n  wrapperRef = null;\n\n  // TODO: convert to ref type\n  handleWrapperRef = (ref: any) => {\n    if (this.wrapperRef) {\n      this.context.unregister(this.wrapperRef);\n      this.wrapperRef = null;\n    }\n    if (ref) {\n      this.context.register(ref);\n      this.wrapperRef = ref;\n    }\n  };\n\n  render() {\n    return <Text {...this.props} ref={this.handleWrapperRef} />;\n  }\n}\n\ninterface ITriggerableViewProps extends ViewProps {}\n\nexport class TriggerableView extends React.Component<ITriggerableViewProps> {\n  render() {\n    return (\n      <TriggerableContext.Consumer>\n        {(contextValue) => (\n          <TriggerableViewChild {...this.props} {...contextValue} />\n        )}\n      </TriggerableContext.Consumer>\n    );\n  }\n}\n"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAmB,cAAc;AAQ9C,OAAO,MAAMC,kBAAkB,gBAAGF,KAAK,CAACG,aAAa,CAAsB;EACzEC,QAAQ,EAAGC,KAA0B,IAAK;IACxC,MAAM,IAAIC,KAAK,CAAC,QAAQ,GAAGD,KAAK,CAAC;EACnC,CAAC;EACDE,UAAU,EAAGF,KAA0B,IAAK;IAC1C,MAAM,IAAIC,KAAK,CAAC,QAAQ,GAAGD,KAAK,CAAC;EACnC;AACF,CAAC,CAAC;AAEF,MAAMG,oBAAoB,SAASR,KAAK,CAACS,SAAS,CAAC;EAAA;IAAA;IAAA,oCAEpC,IAAI;IAAA,0CAGGC,GAAQ,IAAK;MAC/B,IAAI,IAAI,CAACC,UAAU,EAAE;QACnB,IAAI,CAACC,OAAO,CAACL,UAAU,CAAC,IAAI,CAACI,UAAU,CAAC;QACxC,IAAI,CAACA,UAAU,GAAG,IAAI;MACxB;MACA,IAAID,GAAG,EAAE;QACP,IAAI,CAACE,OAAO,CAACR,QAAQ,CAACM,GAAG,CAAC;QAC1B,IAAI,CAACC,UAAU,GAAGD,GAAG;MACvB;IACF,CAAC;EAAA;EAEDG,MAAM,GAAG;IACP,oBAAO,oBAAC,IAAI,eAAK,IAAI,CAACC,KAAK;MAAE,GAAG,EAAE,IAAI,CAACC;IAAiB,GAAG;EAC7D;AACF;AAAC,gBAnBKP,oBAAoB,iBACHN,kBAAkB;AAsBzC,OAAO,MAAMc,eAAe,SAAShB,KAAK,CAACS,SAAS,CAAwB;EAC1EI,MAAM,GAAG;IACP,oBACE,oBAAC,kBAAkB,CAAC,QAAQ,QACxBI,YAAY,iBACZ,oBAAC,oBAAoB,eAAK,IAAI,CAACH,KAAK,EAAMG,YAAY,EACvD,CAC2B;EAElC;AACF"}