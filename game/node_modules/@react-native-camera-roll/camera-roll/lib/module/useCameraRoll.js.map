{"version":3,"names":["useState","CameraRoll","initialState","edges","page_info","end_cursor","has_next_page","start_cursor","defaultConfig","first","groupTypes","useCameraRoll","photos","setPhotos","getPhotos","config","result","error","__DEV__","console","log","save"],"sources":["useCameraRoll.ts"],"sourcesContent":["import {useState} from 'react';\nimport type {\n  GetPhotosParams,\n  PhotoIdentifiersPage,\n  SaveToCameraRollOptions,\n} from './CameraRoll';\nimport {CameraRoll} from './CameraRoll';\n\nconst initialState: PhotoIdentifiersPage = {\n  edges: [],\n  page_info: {\n    end_cursor: '',\n    has_next_page: false,\n    start_cursor: '',\n  },\n};\n\nconst defaultConfig: GetPhotosParams = {\n  first: 20,\n  groupTypes: 'All',\n};\n\ntype UseCameraRollResult = [\n  PhotoIdentifiersPage,\n  (config?: GetPhotosParams) => Promise<void>,\n  (tag: string, options?: SaveToCameraRollOptions) => Promise<void>,\n];\n\nexport function useCameraRoll(): UseCameraRollResult {\n  const [photos, setPhotos] = useState<PhotoIdentifiersPage>(initialState);\n\n  async function getPhotos(\n    config: GetPhotosParams = defaultConfig,\n  ): Promise<void> {\n    try {\n      const result = await CameraRoll.getPhotos(config);\n      setPhotos(result);\n    } catch (error) {\n      if (__DEV__) console.log('[useCameraRoll] Error getting photos: ', error);\n    }\n  }\n\n  async function save(\n    ...args: Parameters<typeof CameraRoll.save>\n  ): Promise<void> {\n    try {\n      await CameraRoll.save(...args);\n    } catch (error) {\n      if (__DEV__)\n        console.log('[useCameraRoll] Error saving to camera roll: ', error);\n    }\n  }\n\n  return [photos, getPhotos, save];\n}\n"],"mappings":"AAAA,SAAQA,QAAR,QAAuB,OAAvB;AAMA,SAAQC,UAAR,QAAyB,cAAzB;AAEA,MAAMC,YAAkC,GAAG;EACzCC,KAAK,EAAE,EADkC;EAEzCC,SAAS,EAAE;IACTC,UAAU,EAAE,EADH;IAETC,aAAa,EAAE,KAFN;IAGTC,YAAY,EAAE;EAHL;AAF8B,CAA3C;AASA,MAAMC,aAA8B,GAAG;EACrCC,KAAK,EAAE,EAD8B;EAErCC,UAAU,EAAE;AAFyB,CAAvC;AAWA,OAAO,SAASC,aAAT,GAA8C;EACnD,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAuBE,YAAvB,CAApC;;EAEA,eAAeY,SAAf,GAEiB;IAAA,IADfC,MACe,uEADWP,aACX;;IACf,IAAI;MACF,MAAMQ,MAAM,GAAG,MAAMf,UAAU,CAACa,SAAX,CAAqBC,MAArB,CAArB;MACAF,SAAS,CAACG,MAAD,CAAT;IACD,CAHD,CAGE,OAAOC,KAAP,EAAc;MACd,IAAIC,OAAJ,EAAaC,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsDH,KAAtD;IACd;EACF;;EAED,eAAeI,IAAf,GAEiB;IACf,IAAI;MACF,MAAMpB,UAAU,CAACoB,IAAX,CAAgB,YAAhB,CAAN;IACD,CAFD,CAEE,OAAOJ,KAAP,EAAc;MACd,IAAIC,OAAJ,EACEC,OAAO,CAACC,GAAR,CAAY,+CAAZ,EAA6DH,KAA7D;IACH;EACF;;EAED,OAAO,CAACL,MAAD,EAASE,SAAT,EAAoBO,IAApB,CAAP;AACD"}